Welcome:
  speech:
    text: >
      {%- if is_state('device_tracker.alexandre', 'home') and is_state('device_tracker.najla', 'home') -%}
        Hello! All the family is at home now!
      {%- else -%}
        Hello! Alexandre is at {{ states("sensor.alexandre") }}
        and Najla is at {{ states("device_tracker.najla") }}
      {% endif %}

      Temperature is {{ states('sensor.yr_temperature') | round(0) }} degrees, with {{ states('sensor.yr_humidity') | round(0) }}% humidity.

      {%- for entity_id in states.group.dispositivos.attributes.entity_id -%}
        {% set parts = entity_id.split('.') -%}
        {%- if states(entity_id) == 'on' %}
          {%- if loop.first %} {% elif loop.last %} and {% else %}, {% endif -%}{{ states[parts[0]][parts[1]].name }}{% endif -%}
      {%- endfor %} are turned on.

      {%- if is_state('group.visitantes', 'home') -%}
        {%- for entity_id in states.group.visitantes.attributes.entity_id -%}
          {% set parts = entity_id.split('.') -%}
          {%- if states(entity_id) == 'home' %}
            {%- if loop.first %} {% elif loop.last %} and {% else %}, {% endif -%}{{ states[parts[0]][parts[1]].name }}{% endif -%}
        {%- endfor %}, welcome to our home.
      {%- else -%}
        There is no guests at this moment.
      {% endif %}
Temperature:
  speech:
    text: Temperature at home is {{ states('sensor.yr_temperature') | round(0) }} degrees
LocateIntent:
  speech:
    text: >
      {%- for state in states.device_tracker -%}
        {%- if state.name.lower() == User.lower() -%}
          {{ state.name }} is at {{ state.state }}
        {%- elif loop.last -%}
          Sorry, I don't know {{ User }} location.
        {%- endif -%}
      {%- else -%}
        Sorry, there is no active trackers..
      {%- endfor -%}
WhereAreWeIntent:
  speech:
    text: >
      {%- if is_state('device_tracker.0023141914', 'home') and
             is_state('device_tracker.najla', 'home') -%}
        Everybody is at home, you fool
      {%- else -%}
        Alexandre is at {{ states("sensor.alexandre") }}
        and Najla is at {{ states("device_tracker.najla") }}
      {% endif %}
TurnAlarm:
  speech:
    text: I will turn {{ OnOff }} the motion detection alarm of {{ Room }}
  action:
    - service: persistent_notification.create
      data_template:
        message: Alguém solicitou {{ OnOff }} o alarme em {{ Room }}
    - service_template: >
        {%- if OnOff == "on" -%}
          switch.turn_on
        {%- else -%}
          switch.turn_off
        {%- endif -%}
      data_template:
        entity_id: "switch.deteccao_movimento_{{ Room | replace(' ', '_') }}"
ActivateGarageDoor:
  speech:
    text: Activating the garage door. Please make sure that Gabriela or the Jeep Compass won't be smashed by the gate.
  action:
    - service: persistent_notification.create
      data_template:
        message: Portão da garagem acionado pelo Google Assistant.
    - service: script.acionar_garagem
ListenToRadio:
  speech:
    text: >
      {%- if OnOff == "on" -%}
        You are listening to {{ RadioStation }}
      {%- else -%}
         Turning off the radio
      {%- endif -%}
  action:
    - service: input_select.select_option
      data_template:
        entity_id: input_select.chromecast_radio
        option: OrangePi
    - service: input_select.select_option
      data_template:
        entity_id: input_select.radio_station
        option: >
          {%- if OnOff == "on" -%}
            {{ RadioStation }}
          {%- else -%}
            Desligado
          {%- endif -%}
    - service: script.radio_start
FanOnOff:
  speech:
    text: I will turn {{ OnOff }} the fan at Gabriela's room
  action:
    - service_template: >
        {%- if OnOff == "on" -%}
          switch.turn_on
        {%- else -%}
          switch.turn_off
        {%- endif -%}
      data_template:
        entity_id: switch.tomada_quarto_gabi
SamsungTv:
  speech:
    text: I will turn {{ OnOff }} the television at living room
  action:
    - service_template: >
        {%- if OnOff == "on" -%}
          media_player.turn_on
        {%- else -%}
          media_player.turn_off
        {%- endif -%}
      data_template:
        entity_id: media_player.un46d5500_un46d5500
